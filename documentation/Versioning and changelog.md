# Versioning and changelog

The changelog is prepared manually immediately before a release, by moving changelog entries from `UNRELEASED.md` to `CHANGELOG.md`, under a new heading for the version number.

**Use the `Skip Changelog` label to ignore a failing changelog check** in your pull request if you feel the code changes do not warrant a changelog entry.

### How to write a changelog entry:

- Use a positive, conversational tone (for example, use “support” over “allow” and other authoritative verbs)
- Avoid redundancy when possible (try to phrase a bug fix entry without the word “bug”)
- Use sentence case
- Use plain language

### Component name formats:

When referring to the concept of a component: use sentence case and include a space. For example, write “text field” instead of “TextField”. This format helps non-developers with documentation comprehension.

When referring to an actual Vue component:

- Refer to components by their Vue name (singular).
  - **Do:** CartFlyoutItem, ProductPrice, ProductCard
  - **Don’t:** CartFlyoutItems, ProductCards, product grid.
- **Components:** use upper CamelCase, also known as PascalCase, wrapped in backticks. For example, `CartFlyoutItem`.
- **Props:** use lower camelCase, wrapped in backticks. For example `primaryAction`.
- **Putting it all together:** “Added a `lineId` prop to `CartFlyoutItemRemoveButton`”.

Change log entry descriptions should be brief but descriptive and follow this structure:

```md
## 0.0.230 - 2019-12-30

### Breaking changes

- Cart line items need a unique id and cannot rely soley based on the variant id. ([#100](https://github.com/getnacelle/nacelle-vue-components/pull/101))
- Components affected in `@nacelle/nacelle-vue-components`:
    - `CartFlyoutItemRemove`
        - Proper usage is to pass `lineId` instead variant id.
        - ie. `<cart-flyout-item-remove-button :lineId="item.id" />`.
    - `ProductQuantityUpdate`
        - This component is deprecated. Should use `QuantitySelector` instead.
        - ie. [Cart] `<quantity-selector :item="item" :quantity="item.quantity" />`.
        - ie. [Product Page] `<quantity-selector :quantity.sync="quantity" />`.
            - Make sure to pass `quantity` prop to `<product-add-to-cart-button />`.
- Components affected in `@nacelle/nacelle-sandbox-alpha`:
    - `Cart`
        - When iterating over cart items, use line item id as `key`
        - ie. `<cart-item v-for="item in lineItems" :key="item.id" :item="item" />`
    - `CartItem`
        - Update quantity: ie. `<quantity-selector :item="item" :quantity="item.quantity" />`
        - Update remove button: ie. `<cart-flyout-item-remove-button :line-id="item.id" />`
    - `ProductCard`
        - Update to new quantity selector component.
        - Make sure to pass `quantity` prop to `<product-add-to-cart-button />`.
        - Keep track of `quantity` as a data property

```

The possible groups in which to categorize changes are:

- Breaking changes
- New components
- Enhancements (new variations, accessibility improvements, etc.)
- Design updates (non-breaking design changes implemented in code)
- Bug fixes
- Documentation
- Dependency upgrades
- Development workflow (new yarn commands or changes to existing commands)
- Code quality (non-trivial changes to code which effect the private API)
- Deprecations

## Out of scope for `CHANGELOG.md`

Generally, changes related to these topics can be omitted:

- Style guide
- Dev dependencies upgrades
- Chores (infrastructure, release process…)

## Unreleased changes

Unreleased changes must go under in the `UNRELEASED.md` file:

```md
### Bug fixes

- Fixed something ([#100](https://github.com/getnacelle/nacelle-vue-components/pull/101))
```

Entries must be moved from `UNRELEASED.md` to `CHANGELOG.md` at each release.

## Versioning scheme

The following sections detail what kinds of changes result in each of major, minor, and patch version bumps:

### Major

- Removal of a component
- Removal of a prop from a component
- Change to the type accepted for a prop
- Breaking changes to minimum version of dependencies
- Breaking changes to public Sass variables, functions and mixins

### Minor

- New component
- New prop for a component
- Additional type accepted for a prop
- Deprecation of a component, prop, public Sass variable, function, or mixin (ahead of its removal in the next major version)

### Patch

- Breaking change to the HTML generated by a component, including addition, removal, or renaming of classes
- Changes that do not impact public APIs
- Non-breaking changes to minimum version of dependencies
- Breaking changes to private Sass variables, functions, and mixins